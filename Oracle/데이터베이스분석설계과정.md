---
typora-root-url: ./images
---

# 데이터베이스 분석 설계 과정

#### 데이터 모델링

1. 요구사항 분석 (현행 업무 분석, 요구 기능 분석, 산출물: 요구 사항 명세서)

2. 개념적 데이터 모델링 (개체/관계 도출, 산출물: 개체-관계 모형)

3. 논리적 데이터 모델링 (정규화)

4. 물리적 데이터 모델링 (테이블 설계)

5. 데이터베이스 구축 (데이터베이스 생성)

---

#### 1. 요구사항 분석

* 데이터 모델링을 하기 위해서는 사용자와의 면담을 통해서 얻은 내용으로 사용자의 요구 사항을 간단하게 기술해 놓아야 한다.
* 요구 사항 명세서나 업무 흐름도가 최종 산출물이 된다.



#### 2. 개념적 관계 모델링

* 개념적 설계 단계는 얻어진 산출물을 근거로 데이터 모델링을 해야 하는데
* 데이터 모델링은 업무 처리에 필요한 자료와 속성을 기술하고, 자료 간의 관계를 정의하고 특정 데이터베이스에 구애되지 않고 골격을 구축하는 작업 단계이다. 

![image-20210701123954408](/../../../../../Library/Application Support/typora-user-images/image-20210701123954408.png)

* 개체 (Entity)

  * 실 세계에서 기본적으로 표현할 수 있는 항목으로 레코드와 같은 의미이다.
  * 관리 대상이 되는 독립적 특성을 갖는 사람, 사물, 사건, 개념 등 요구사항 명세서에서 명사형으로 표현되는데, ERD에서 사각형으로 표시한다.

  ![image-20210701101311935](/Users/jamie/Library/Application Support/typora-user-images/image-20210701101311935.png)

* 속성 (Attribute)

  * 성질이나 상태 등 개체가 가질 수 있는 세부적인 특성으로 타원으로 표현되며, 개체에 실선으로 연결하여 나타낸다. 
  * 데이터의 가장 작은 논리적인 단위로서 필드와 같은 의미이다.

  ![image-20210701101319147](/Users/jamie/Library/Application Support/typora-user-images/image-20210701101319147.png)

* 인스턴스 (Instance)

  * 개체의 구체적인 하나의 예, 즉 단일 사례로서 개체는 인스턴스의 집합이다.

    | 회원ID  | 이름   | 주민등록번호  | 주소 |
    | ------- | ------ | ------------- | ---- |
    | eunhee  | 조은희 | 7302251346581 | 대구 |
    | ginsoon | 장길순 | 8508153214567 | 충남 |
    | gildong | 홍길동 | 0001112354894 | 경기 |

* 기본 키 (Primary Key)

  * 인스턴스들을 서로 구별할 수 있는 유일한 값을 갖는 속성
  * 기본 키는 속성에 밑줄을 표시한다.

  ![image-20210701101429610](/Users/jamie/Library/Application Support/typora-user-images/image-20210701101429610.png)

* 관계 (Relationship)

  * 개체간의 연관성을 말하며, 요구사항 명세서에서 동사 형으로 표현된다.
  * 관계가 있는 개체를 실선으로 연결하고 마름모 사각형 안에 관계를 표시한다.

  ![image-20210701101507008](/Users/jamie/Library/Application Support/typora-user-images/image-20210701101507008.png)

* 릴레이션

  * 모델링 과정에서 테이블을 릴레이션 이라고 한다.
  * 릴레이션은 튜플의 집합으로 표현한다.

  ![image-20210701101538740](/Users/jamie/Library/Application Support/typora-user-images/image-20210701101538740.png)
  * 속성은 릴레이션에서 열의 이름을 말한다.
  * 도메인은 하나의 속성이 취할 수 있는 같은 타입의 모든 원자 값들의 집합이다.
  * 튜플은 릴레이션에서 한 행을 말한다.



#### 3. 논리적 데이터 모델링 (정규화)

* 정규화란 자료의 손실이나 불필요한 정보의 도입 없이 데이터의 일관성, 데이터 중복을 최소화하고 최대의 데이터 안정성 확보를 위한 안정적 자료구조로 변화하기 위해서 하나의 테이블을 둘 이상으로 분리하는 작업이다.

  ![image-20210701101957214](/Users/jamie/Library/Application Support/typora-user-images/image-20210701101957214.png)

| 정규화          | 설명                                                         |
| --------------- | ------------------------------------------------------------ |
| 제1정규화 (1NF) | 비 정규형 개체에서 반복 또는 복수 속성 값을 가진 속성을 분리시킴으로써 모든 도메인이 원자 값으로 구성하면 제 1 정규형에 속하는 개체가 된다. |
| 제2정규화(2NF)  | 제1 정규형에 속하는 개체이지만, 부분 함수의 종속이 존재한다면 이로 인해 이상 현상이 발생한다. |
| 제3정규화(3NF)  | 제2 정규형에 속하는 개체 여도 이행 함수의 종속이 존재하면 이로 인한 이상 현상이 발생한다. |
| BCNF            | 3차정규형을 만족하면서 **모든 결정자가 후보 키 집합에 속한 정규형** |
| 제4정규화(4NF)  | BCNF 정규형을 만족하면서 다치 종속이 존재한다면 제4정규형에 속하지 않는다. 다치 종속을 제거하면 제 4NF라고 할 수 있다. |
| 제5정규화(5NF)  | 분해한 것을 다시 조인했을 경우 원래 상태로 돌아가지 못하게 되는 경우가 있는데 이를 조인 종속성이라고 한다. 조인 종속성까지 제고하면 제5 정규형에 속하게 된다. |



#### 4. 물리적 데이터 모델링 (테이블 설계)

* 물리적 설계의 목적은 개발에 사용할 데이터베이스를 선정

* 특정 데이터베이스로 구현될 수 있도록 구체적으로 설계하는 과정이다.

* 산출물은 테이블 명세서이다. 

  * 일대일 관계

    ![image-20210701101737814](/Users/jamie/Library/Application Support/typora-user-images/image-20210701101737814.png)

  * 일대다 관계

    * 일반적으로 일에 해당하는 테이블이 부모 테이블이고 다에 해당되는 테이블이 자식 테이블이 된다.

    * 부모 테이블의 기본 키를 자식 테이블에 포함시키고 외래키로 설정

      ![image-20210701101815379](/Users/jamie/Library/Application Support/typora-user-images/image-20210701101815379.png)

  * 다대다 관계

    * 방법1. 두 개의 외래 키를 조합하여 기본 키로 설정

    * 방법2. 새로운 필드를 추가하여 기본 키로 설정

      ![image-20210701101846966](/Users/jamie/Library/Application Support/typora-user-images/image-20210701101846966.png)

